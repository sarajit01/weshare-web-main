<app-mobile-header-with-back-button [urlAction]="false" *ngIf="fromListing" (onBackPressed)="onBackPressed()" [heading]="'Business Details'"></app-mobile-header-with-back-button>

<div class="w-100  ms-0 me-0 " style="overflow-x: hidden;">
    <!--    {{getContainerClass()}}-->
    <div class=" container mb-5 mt-3 section-container" style="background: transparent !important;"  *ngIf="business !== undefined" >

        <div class="row px-3" style="border-radius: 24px;">

            <div class="card p-0" style="border-radius: 24px">
                <div class="card-body px-0 pt-0" style="overflow-x: hidden !important;">
                    <div class="top-slider">




                        <app-simple-img-horiz-carousel [radiusCorners]="24"


                                                        style="left: 0;padding: 0;border-top-left-radius: 16px;"
                                                        [itemHeight]="getDeviceWiseHeight()"
                                                        [previewMode]="true"
                                                        [gallery]="business.images"></app-simple-img-horiz-carousel>

                        <!--      <div class="d-flex flex-column gap-1 d-md-none" style="margin-top: 200px; z-index: 1000 !important;">-->

                        <!--        <div class="business-logo shadow-2" style="background: url('{{business.logo}}')">-->

                        <!--        </div>-->

                        <!--        <div class="d-flex flex-column">-->
                        <!--          <h2 class="mb-0">{{business.name}}</h2>-->
                        <!--          <small>{{business.slogan}}</small>-->
                        <!--          <small>{{business.city}}</small>-->
                        <!--        </div>-->

                        <!--          &lt;!&ndash; commented out for added icons at bottom &ndash;&gt;-->
                        <!--&lt;!&ndash;        <div  class="d-flex justify-content-between align-items-center py-1 ">&ndash;&gt;-->

                        <!--&lt;!&ndash;          <div class="cursor-pointer" (click)="likeService.saveToFavorites(this.business, 'business')">&ndash;&gt;-->
                        <!--&lt;!&ndash;            <span class="material-symbols-outlined">&ndash;&gt;-->
                        <!--&lt;!&ndash;add_circle&ndash;&gt;-->
                        <!--&lt;!&ndash;</span>&ndash;&gt;-->
                        <!--&lt;!&ndash;          </div>&ndash;&gt;-->

                        <!--&lt;!&ndash;          <div class="d-flex gap-1 cursor-pointer " (click)="commentService.openComments(this.business, 'business')" >&ndash;&gt;-->

                        <!--&lt;!&ndash;            <div>&ndash;&gt;-->
                        <!--&lt;!&ndash;            <span class="material-symbols-outlined">&ndash;&gt;-->
                        <!--&lt;!&ndash;mode_comment&ndash;&gt;-->
                        <!--&lt;!&ndash;</span>&ndash;&gt;-->
                        <!--&lt;!&ndash;            </div>&ndash;&gt;-->

                        <!--&lt;!&ndash;            <span>&ndash;&gt;-->
                        <!--&lt;!&ndash;            {{"Comment" | translate}}&ndash;&gt;-->
                        <!--&lt;!&ndash;          </span>&ndash;&gt;-->

                        <!--&lt;!&ndash;          </div>&ndash;&gt;-->

                        <!--&lt;!&ndash;          <div>&ndash;&gt;-->
                        <!--&lt;!&ndash;            <i class="fa fa-whatsapp" style="font-size: 24px" aria-hidden="true"></i>&ndash;&gt;-->

                        <!--&lt;!&ndash;          </div>&ndash;&gt;-->

                        <!--&lt;!&ndash;          <div>&ndash;&gt;-->
                        <!--&lt;!&ndash;          <span class="material-symbols-outlined cursor-pointer" (click)="openSharePopup()">&ndash;&gt;-->
                        <!--&lt;!&ndash;share&ndash;&gt;-->
                        <!--&lt;!&ndash;</span>&ndash;&gt;-->
                        <!--&lt;!&ndash;          </div>&ndash;&gt;-->


                        <!--&lt;!&ndash;        </div>&ndash;&gt;-->

                        <!--      </div>-->

                        <div class="d-flex flex-column  justify-content-md-between w-100">


                            <div class="d-flex gap-3 mt-3 mx-3 ">

                                <div class="">
                                    <div class="business-logo shadow-2" style="background: url('{{business.logo}}')">

                                    </div>
                                </div>

                                <div class="d-flex flex-column">
                                    <h2 class="mb-0" style="font-size: 18px !important;">{{business.business_name_prefix}} {{ business.business_name }}</h2>
                                    <small>{{ business.slogan }}</small>
                                    <small>{{ business.city }}</small>
                                </div>

                            </div>
                            <div class="d-flex flex-column my-2 gap-1  mx-3 me-md-4">
                                <h1 class="mb-0">{{ business.rating ?? 0.0 }}</h1>
                                <ngb-rating [rate]="0.0" [max]="5"></ngb-rating>
                                <h4 class="mb-0">10 Reviews</h4>
                            </div>


                        </div>


                        <div class="col-md-12 business-heading d-none  flex-column flex-md-row gap-3 justify-content-between align-items-center align-items-md-end px-md-5 pb-4 mb-2">

                            <div class="d-flex gap-2 gap-md-3 align-items-end">

                                <div class="business-logo shadow-2" style="background: url('{{business.logo}}')">

                                </div>

                                <div class="business-heading-wrapper">
                                    <h1><strong>{{ business.name }}</strong></h1>
                                    <p><strong>{{ business.slogan }}</strong></p>
                                </div>


                            </div>


                            <!--        <div class="d-flex justify-content-end align-items-center gap-2">-->

                            <!--          <button  *ngIf="authService.isLoggedIn()" class="btn btn-success ">-->
                            <!--            <i class="fa fa-whatsapp"></i>&nbsp; {{'WhatsApp' | translate}}-->
                            <!--          </button>-->


                            <!--        </div>-->


                            <!-- <div class="float-start d-flex justify-content-start">
                              <span><a href="#">{{'Home' | translate}}</a> / {{business.business_name_prefix}} {{business.business_name}}</span>
                            </div> -->
                            <!--  <div class="float-end d-flex justify-content-end">
                                <div class="btn-icon">
                                  <i class="fa fa-share"></i>


                                </div>
                                <div class="btn-icon">
                                  <i class="fa fa-heart"></i>

                                </div>
                              </div> -->
                        </div>


                        <div class="col-md-12 d-none">

                            <div class="row py-4">

                                <div class="col-12 px-md-5 col-md-12 business-navigation d-md-flex flex-column flex-md-row justify-content-between align-items-center">

                                    <app-swipper [hasNavigator]="false">
                                        <div class="nav-tab-btn" [ngClass]="isTabActive(tab)" *ngFor="let tab of tabs"
                                             (click)="activateTab(tab)">
                                            <a [ngClass]="isLinkActive(tab)">
                                                {{ tab.name | translate }}
                                            </a>

                                        </div>
                                        <div class="nav-tab-btn">
                                            <a [href]="'/employees/'+business.id" target="_blank">
                                                {{ "Employee Area" | translate }}
                                            </a>

                                        </div>
                                    </app-swipper>

                                    <div class="d-none d-md-flex justify-content-center justify-content-md-end gap-2 my-1 my-md-0">

            <span (click)="saveToFavorites()" class="text-danger cursor-pointer">
                <i class="fa fa-heart"></i> {{ "Like" | translate }}
            </span>
                                        <span (click)="openSharePopup()" class="text-primary cursor-pointer">
              <i class="fa fa-share"></i> {{ "Share" | translate }}
            </span>

                                    </div>


                                </div>


                            </div>


                        </div>

                    </div>

                </div>

            </div>

        </div>

        <div class="row d-flex flex-column  theme-bg-primary py-2">

            <!-- commented out for added icons below -->

            <!--        <div class="col-12 ps-0  d-flex justify-content-between align-items-center d-md-none">-->
            <!--        <div class="d-flex gap-1">-->
            <!--          <ng-container *ngFor="let tab of tabs; let i= index" >-->
            <!--            <div *ngIf="i < 3" class="nav-tab-btn" [ngClass]="isTabActive(tab)" (click)="activateTab(tab)">-->
            <!--              <a [ngClass]="isLinkActive(tab)">-->
            <!--                {{tab.name | translate}}-->
            <!--              </a>-->

            <!--            </div>-->
            <!--          </ng-container>-->

            <!--        </div>-->

            <!--        <div>-->
            <!--          <span (click)="showMoreOptions()" class="material-symbols-outlined cursor-pointer">-->
            <!--more_vert-->
            <!--</span>-->
            <!--        </div>-->


            <!--      </div>-->

            <ng-container *ngIf="viewMode === 'details'">

                <div class="col-md-12 order-1 order-md-0 zero-padding" >

                    <div class="row px-3" >

                        <div class="col-md-12 mt-md-1" id="information">


                            <div *ngIf="activeTab === 'Information'" class="card">
                                <div class="card-header d-none d-md-block px-3">

                                    <h3><strong>Information</strong></h3>

                                </div>
                                <ul class="list-group  list-group-small">
                                    <li class="list-group-item px-3">

                                        <div class="d-flex justify-content-start align-items-baseline gap-2">

                                            <i class="fa fa-info"></i>

                                            <div [innerHtml]="business.business_summary"></div>

                                        </div>

                                    </li>
                                    <li class="list-group-item px-3">

                                        <div class="d-flex justify-content-start align-items-baseline gap-2">

                                            <i class="fa fa-info"></i>

                                            <div [innerHtml]="business.description"></div>

                                        </div>


                                    </li>

                                    <!--

                                       <p class="py-2 border-bottom text-black-50">

                                        <i class="fa fa-map-marker text-primary"></i>&nbsp; {{'Address' | translate}} :  {{business.address}}

                                      </p>
                                      <p class="py-2 border-bottom text-black-50" *ngIf="business.contacts">

                                        <i class="fa fa-phone text-primary"></i>&nbsp; {{'Phone' | translate}} :  {{business.contacts.business_phone}}

                                      </p>  <p class="py-2 border-bottom text-black-50"  *ngIf="business.contacts">

                                      <i class="fa fa-envelope-o text-primary"></i>&nbsp; {{'Email' | translate}} :  {{business.contacts.business_email}}

                                    </p>  <p class="py-2 border-bottom text-black-50" *ngIf="business.social_media">

                                      <i class="fa fa-globe text-primary"></i>&nbsp; {{'Website' | translate}} :  {{business.social_media.website}}

                                    </p>


                                    -->

                                    <li class="list-group-item px-3" *ngIf="business.social_media">
                                        <div class="d-flex justify-content-start align-items-baseline gap-2">
                                            <i class="fa fa-globe"></i>
                                            {{business.social_media.website}}
                                        </div>
                                    </li>

                                    <li class="list-group-item px-3" *ngIf="business.contacts">
                                        <div class="d-flex justify-content-start align-items-baseline gap-2">
                                            <i class="fa fa-phone"></i>
                                            <span id="business-phone">{{business.contacts.business_phone}}</span>
                                        </div>
                                    </li>

                                    <li class="list-group-item px-3" *ngIf="business.contacts">
                                        <div class="d-flex justify-content-start align-items-baseline gap-2">
                                            <i class="fa fa-envelope"></i>
                                            {{business.contacts.business_email}}
                                        </div>
                                    </li>

<!--                                    <li class="list-group-item px-3 d-none d-md-block">-->
<!--                                        <div class="d-flex justify-content-center align-items-center py-2 gap-2">-->
<!--                                            <button (click)="claimPromo('promotion')" *ngIf="authService.isLoggedIn()" class="btn btn-theme-dark  ">-->
<!--                                                {{'Claim a promotion' | translate}}-->
<!--                                            </button>-->
<!--                                            <button (click)="claimPromo('discount')" *ngIf="authService.isLoggedIn()" class="btn btn-theme-dark ">-->
<!--                                                {{'Claim a discount' | translate}}-->
<!--                                            </button>-->
<!--                                        </div>-->
<!--                                    </li>-->



                                </ul>
                            </div>

                        </div>

                    </div>

<!--                    <ng-container *ngIf="activeTab === 'Promos' || activeTab === 'Information'">-->
<!--                        <div class="w-100 my-4">-->
<!--                            <app-featured-promotions-carousel class="px-0" (onPromotionSelected)="viewPromotionDetails($event)"   [business]="business" *ngIf="business.promotions && business.promotions.length" [promotions]="business.promotions"></app-featured-promotions-carousel>-->
<!--                        </div>-->
<!--                    </ng-container>-->

<!--                    <ng-container *ngIf="activeTab === 'TCF' || activeTab === 'Information'">-->
<!--                        <div class="w-100 my-1">-->
<!--                            <app-featured-lccarousel class="px-0" (onLcSelected)="viewLCDetails($event)"  [business]="business" *ngIf="business.loyalty_cards && business.loyalty_cards.length" [lcs]="business.loyalty_cards"></app-featured-lccarousel>-->
<!--                        </div>-->
<!--                    </ng-container>-->

                    <div class="row px-3">


                        <!--            <mat-card class="shadow" *ngIf="activeTab === 'Information'" style="background: #fff">-->
                        <!--              <mat-card-header >-->
                        <!--                <div class="col-md-12 d-flex justify-content-between align-items-baseline">-->
                        <!--                  <mat-card-title>{{'Description' | translate}}</mat-card-title>-->

                        <!--                  <button *ngIf="authService.isLoggedIn() && authService.getRole() && authService.getRole() === 'business'" (click)="claimBusiness()" class="btn btn-primary">-->
                        <!--                    {{'Claim This Business' | translate}}-->
                        <!--                  </button>-->

                        <!--                </div>-->
                        <!--              </mat-card-header>-->
                        <!--              <mat-divider></mat-divider>-->
                        <!--              <mat-card-content class="p-3">-->

                        <!--                &lt;!&ndash;<div class="col-12 d-flex justify-content-center py-1 align-items-center">-->
                        <!--                  <button (click)="claimBusiness()" class="btn btn-sm btn-outline-dark mb-1 ">-->
                        <!--                    Reclamar Este  Negocio-->
                        <!--                  </button>-->
                        <!--                </div> &ndash;&gt;-->


                        <!--                <p class="lh-base text-black-50" [innerHtml]="business.description">-->


                        <!--                </p>-->

                        <!--                <br/>-->

                        <!--                <a target="_blank" href="{{business.social_media.website}}" mat-raised-button color="primary" class="btn btn-lg">-->
                        <!--                  {{'Visit Website' | translate}} &nbsp;<i class="fa fa-angle-right"></i>-->
                        <!--                </a>-->

                        <!--              </mat-card-content>-->

                        <!--            </mat-card>-->

                        <!--            <mat-card class="shadow mt-1" *ngIf="activeTab === 'Information' && business.business_summary" style="background: #fff">-->
                        <!--              <mat-card-header >-->
                        <!--                <div class="col-md-12 d-flex justify-content-between align-items-baseline">-->
                        <!--                  <mat-card-title>{{'More About the business' | translate}}</mat-card-title>-->
                        <!--                </div>-->
                        <!--              </mat-card-header>-->
                        <!--              <mat-divider></mat-divider>-->
                        <!--              <mat-card-content class="p-3">-->

                        <!--                &lt;!&ndash;<div class="col-12 d-flex justify-content-center py-1 align-items-center">-->
                        <!--                  <button (click)="claimBusiness()" class="btn btn-sm btn-outline-dark mb-1 ">-->
                        <!--                    Reclamar Este  Negocio-->
                        <!--                  </button>-->
                        <!--                </div> &ndash;&gt;-->


                        <!--                <p class="lh-base text-black-50" [innerHtml]="business.business_summary">-->


                        <!--                </p>-->


                        <!--              </mat-card-content>-->

                        <!--            </mat-card>-->




                        <!--          <div class="col-md-12 mt-1"  id="gallery">-->

                        <!--            <mat-card class="shadow" style="background: #fff">-->
                        <!--              <mat-card-header >-->
                        <!--                <mat-card-title>{{'Gallery / Photos' | translate}}</mat-card-title>-->
                        <!--              </mat-card-header>-->
                        <!--              <mat-divider></mat-divider>-->
                        <!--              <mat-card-content>-->

                        <!--                <div class="row">-->
                        <!--                  <div  [routerLink]="'/gallery/business/'+business.id" class="col-4 p-1" *ngFor="let media of business.gallery">-->

                        <!--                    <div class="gallery-img w-100"  style="background-image: url('{{media.img}}')">-->

                        <!--                    </div>-->

                        <!--                  </div>-->

                        <!--                </div>-->

                        <!--                &lt;!&ndash; <app-swipper  *ngIf="business && business.gallery">-->

                        <!--                 </app-swipper> &ndash;&gt;-->

                        <!--              </mat-card-content>-->

                        <!--            </mat-card>-->

                        <!--          </div>-->

                        <div class="col-md-12 mt-1" id="details" *ngIf="activeTab === 'Information'">

                            <!--            <mat-card class="shadow" >-->
                            <!--              <mat-card-header >-->
                            <!--                <div class="w-100 d-flex justify-content-between align-items-baseline">-->
                            <!--                  <mat-card-title>{{'Description' | translate}}</mat-card-title>-->

                            <!--                  <button *ngIf="authService.isLoggedIn() && authService.getRole() && authService.getRole() === 'business'" (click)="claimBusiness()" class="btn btn-theme-dark">-->
                            <!--                    {{'Claim This Business' | translate}}-->
                            <!--                  </button>-->

                            <!--                </div>-->
                            <!--              </mat-card-header>-->
                            <!--              <mat-divider></mat-divider>-->
                            <!--              <mat-card-content class="p-3">-->

                            <!--                &lt;!&ndash;<div class="col-12 d-flex justify-content-center py-1 align-items-center">-->
                            <!--                  <button (click)="claimBusiness()" class="btn btn-sm btn-outline-dark mb-1 ">-->
                            <!--                    Reclamar Este  Negocio-->
                            <!--                  </button>-->
                            <!--                </div> &ndash;&gt;-->


                            <!--                <p class="lh-base" [innerHtml]="business.description">-->


                            <!--                </p>-->

                            <!--                <br/>-->

                            <!--                <a target="_blank" href="{{business.social_media.website}}"  class="btn btn-theme-dark">-->
                            <!--                  {{'Visit Website' | translate}} &nbsp;<i class="fa fa-angle-right"></i>-->
                            <!--                </a>-->

                            <!--              </mat-card-content>-->

                            <!--            </mat-card>-->

                            <!--            <mat-card class="shadow mt-1">-->
                            <!--              <mat-card-header >-->
                            <!--                <div class="col-md-12 d-flex justify-content-between align-items-baseline">-->
                            <!--                  <mat-card-title>{{'More About the business' | translate}}</mat-card-title>-->
                            <!--                </div>-->
                            <!--              </mat-card-header>-->
                            <!--              <mat-divider></mat-divider>-->
                            <!--              <mat-card-content class="p-3">-->

                            <!--                &lt;!&ndash;<div class="col-12 d-flex justify-content-center py-1 align-items-center">-->
                            <!--                  <button (click)="claimBusiness()" class="btn btn-sm btn-outline-dark mb-1 ">-->
                            <!--                    Reclamar Este  Negocio-->
                            <!--                  </button>-->
                            <!--                </div> &ndash;&gt;-->


                            <!--                <p class="lh-base" [innerHtml]="business.business_summary">-->


                            <!--                </p>-->
                            <!--              </mat-card-content>-->

                            <!--            </mat-card>-->

                        </div>



<!--                        <div class="col-md-12 mt-1" *ngIf="activeTab === 'Information' || activeTab === 'Review'" >-->

<!--                            <app-listing-reviews [business]="business"></app-listing-reviews>-->

<!--                        </div>-->


                        <!-- <div class="col-md-12 mt-1" *ngIf="activeTab === 'Promotions & Discounts'">

                           <mat-card class="shadow" style="background: #fff">
                             <mat-card-header >
                               <div class="col-md-12">
                                 <div class="float-start justify-content-start align-items-center">
                                   <mat-card-title>{{'Promotions and Discounts' | translate}}</mat-card-title>
                                 </div>
                                 <div class="float-end justify-content-end align-items-center">
                                   {{business.promotions.length}} of  {{business.promotions.length}}
                                 </div>
                               </div>
                             </mat-card-header>
                             <mat-divider></mat-divider>
                             <mat-card-content class="py-1">

                               <div class="row">
                                 <app-swipper [hasNavigator]="false">
                                   <div class="col-9 col-sm-9 col-md-7 col-lg-7" style="padding: 2px !important;" *ngFor="let promo of business.promotions">
                                     <app-promotion-widget [business]="business" [promotion]="promo"></app-promotion-widget>
                                   </div>
                                 </app-swipper>
                               </div>


                             </mat-card-content>

                           </mat-card>



                         </div> -->

                        <div class="col-md-12 mt-1" *ngIf="activeTab === 'Information' || activeTab === 'Notifications'" >

                            <mat-card class="shadow" >
                                <mat-card-header >
                                    <div class="col-md-12">
                                        <div class="float-start justify-content-start align-items-center">
                                            <mat-card-title>{{'Notifications' | translate}}</mat-card-title>
                                        </div>
                                        <div class="float-end justify-content-end align-items-center">
                                        </div>
                                    </div>
                                </mat-card-header>
                                <mat-divider></mat-divider>
                                <mat-card-content class="py-1">

                                    <app-swipper [hasNavigator]="false">
                                        <div class="col-9" *ngFor="let notify of business.notifications">
                                            <app-business-notification [displayMode]="'horizontal'" [businessNotification]="notify" ></app-business-notification>
                                        </div>
                                    </app-swipper>

                                </mat-card-content>

                            </mat-card>



                        </div>


                        <div class="col-md-12 mt-1" *ngIf="activeTab === 'Information' || activeTab === 'Services'" >

                            <mat-card class="shadow">
                                <mat-card-header >
                                    <div class="col-md-12">
                                        <div class="float-start justify-content-start align-items-center">
                                            <mat-card-title>{{'Services' | translate}}</mat-card-title>
                                        </div>
                                        <div class="float-end justify-content-end align-items-center">
                                        </div>
                                    </div>
                                </mat-card-header>
                                <mat-divider></mat-divider>
                                <mat-card-content class="py-1">

                                    <ng-container *ngFor="let _service of business.services">
                                        <div class="col-12 py-2 d-flex flex-column gap-1">

                                            <span class="fw-bold">{{_service.service_name}} &nbsp;L{{_service.price}}</span>
                                            <span>{{_service.service_description}}</span>
                                        </div>
                                        <mat-divider></mat-divider>
                                    </ng-container>

                                </mat-card-content>

                            </mat-card>



                        </div>



                        <div class="col-md-12 mt-1" *ngIf="activeTab === 'Information'" >

                            <mat-card class="shadow">
                                <mat-card-header>
                                    <mat-card-title>{{'Working Hours' | translate}}</mat-card-title>
                                </mat-card-header>
                                <mat-card-content>

                                    <div class="col-md-12">

                                        <h4 class="p-2 text-info">

                                            <i class="fa fa-clock-o text-info"></i>&nbsp;{{'Now Closed' | translate}}

                                        </h4>

                                    </div>

                                    <div class="col-md-12 table-responsive">




                                        <table style="width: 100%" class="table table-hover timing-table">

                                            <tbody>

                                            <tr *ngFor="let d of business.working_hours">

                                                <td class="" >
                                                    {{d.day | translate}}
                                                </td>
                                                <td class="">
                                                    {{d.starts_at}} {{'to' | translate}} {{d.ends_at}}
                                                </td>

                                            </tr>

                                            </tbody>

                                        </table>

                                    </div>





                                </mat-card-content>

                            </mat-card>
                        </div>

                        <div class="col-md-12 mt-1" id="location" *ngIf="activeTab === 'Information' || activeTab === 'Contact Us'"  >

                            <mat-card class="shadow" >
                                <mat-card-header>
                                    <mat-card-title>{{'Location / Contacts' | translate}}</mat-card-title>
                                </mat-card-header>
                                <mat-divider></mat-divider>

                                <mat-card-content>

                                    <div class="col-md-12 d-flex justify-content-center text-center my-3">

                                        <button class="btn btn-theme-dark d-flex gap-1 align-items-center">
                                            {{'View Map' | translate}} <mat-icon>map</mat-icon>
                                        </button>


                                    </div>

                                    <div class="col-md-12 p-3">


                                        <p class="py-2 border-bottom ">

                                            <i class="fa fa-map-marker text-primary"></i>&nbsp; {{'Address' | translate}} :  {{business.address}}

                                        </p>
                                        <p class="py-2 border-bottom " *ngIf="business.contacts">

                                            <i class="fa fa-phone text-primary"></i>&nbsp; {{'Phone' | translate}} :  {{business.contacts.business_phone}}

                                        </p>  <p class="py-2 border-bottom "  *ngIf="business.contacts">

                                        <i class="fa fa-envelope-o text-primary"></i>&nbsp; {{'Email' | translate}} :  {{business.contacts.business_email}}

                                    </p>  <p class="py-2 border-bottom" *ngIf="business.social_media">

                                        <i class="fa fa-globe text-primary"></i>&nbsp; {{'Website' | translate}} :  {{business.social_media.website}}

                                    </p>


                                        <br/>

                                        <button mat-mini-fab color="primary" >
                                            <i class="fa fa-facebook"></i>
                                        </button>&nbsp;
                                        <button mat-mini-fab color="primary" >
                                            <i class="fa fa-twitter"></i>
                                        </button>&nbsp;
                                        <button mat-mini-fab color="primary" >
                                            <i class="fa fa-instagram"></i>
                                        </button>&nbsp;
                                        <button mat-mini-fab color="primary" >
                                            <i class="fa fa-whatsapp"></i>
                                        </button>&nbsp;
                                        <button mat-mini-fab color="primary" >
                                            <i class="fa fa-envelope"></i>
                                        </button>&nbsp;




                                    </div>






                                </mat-card-content>

                            </mat-card>
                        </div>

                        <div class="col-md-12 mt-1" id="contact" *ngIf="activeTab === 'Information' || activeTab === 'Contact Us'" >

                            <mat-card class="shadow">
                                <mat-card-header>
                                    <mat-card-title>{{'Contact Us' | translate}}</mat-card-title>
                                </mat-card-header>
                                <mat-divider></mat-divider>
                                <mat-card-content>

                                    <app-listing-contact-form [listingType]="'business'" [listingId]="business.id"></app-listing-contact-form>

                                </mat-card-content>

                            </mat-card>
                        </div>



                        <!--          <div class="col-md-12 mt-1" >-->
                        <!--            <app-booking-form [listingId]="business.id" [business]="business" [listingType]="'business'"></app-booking-form>-->
                        <!--          </div>-->




                    </div>


                    <div class="row px-3" >
                        <div class="col-md-12 mt-1" *ngIf="activeTab === 'Information'">

                            <mat-card class="shadow">
                                <mat-card-header>
                                    <mat-card-title>{{'Price Range' | translate}}</mat-card-title>
                                </mat-card-header>
                                <mat-divider></mat-divider>
                                <mat-card-content class="p-3">


                                    <span class="fw-bold ">{{'Price' | translate}}: &nbsp;&nbsp;</span><span class="fw-bold text-primary" style="font-size: 22px;">{{business.price_from}} {{business.currency}} - {{business.price_to}} {{business.currency}}</span>


                                </mat-card-content>

                            </mat-card>
                        </div>
                        <div class="col-md-12 mt-1" *ngIf="activeTab === 'Information'">

                            <mat-card class="shadow">
                                <mat-card-header >
                                    <mat-card-title>{{'Listing features' | translate}}</mat-card-title>
                                </mat-card-header>
                                <mat-divider></mat-divider>
                                <mat-card-content class="p-3">

                                    <button mat-button *ngFor="let attr of business.custom_attributes">
                                        <!-- <i class="fa fa-wifi text-info listing-feature-icon"></i> --><span class="listing-feature-text">
               {{attr.name | translate}}
               </span>
                                    </button>

                                </mat-card-content>

                            </mat-card>



                        </div>
                        <div class="col-md-12 mt-1" *ngIf="activeTab === 'Information'">

                            <mat-card class="shadow">
                                <mat-card-header>
                                    <mat-card-title>Listing Tags</mat-card-title>
                                </mat-card-header>
                                <mat-divider></mat-divider>
                                <mat-card-content class="p-3">
                                    <mat-chip-list>
                                        <mat-chip
                                                *ngFor="let tag of business.tags">
                                            {{tag.tag}}
                                        </mat-chip>
                                    </mat-chip-list>
                                </mat-card-content>

                            </mat-card>
                        </div>


                    </div>

<!--                    <div class="w-100 mt-4 mb-5">-->
<!--                        <app-featured-businesses-carousel (onBusinessSelected)="viewBusinessDetails($event)" class="my-2 px-0" *ngIf="similarListings.businesses.data && similarListings.businesses.data.length" [businesses]="similarListings.businesses.data"></app-featured-businesses-carousel>-->
<!--                    </div>-->


                </div>



                <div class="col-md-7 order-0 order-md-1 no-sm-padding mb-2">

                    <!--        <ng-container *ngIf="activeTab === 'Promos' || activeTab === 'Discounts'">-->
                    <!--          <div class="w-100" style="padding: 2px !important;" *ngFor="let promo of business.promotions">-->
                    <!--            <app-promotion-classic-widget [business]="business" [promotion]="promo"></app-promotion-classic-widget>-->
                    <!--          </div>-->
                    <!--        </ng-container>-->
                    <ng-container *ngIf="activeTab === 'Points'">


                        <div class="col-12 d-flex justify-content-between align-items-center pb-2">
                            <h3 class="fw-bold">Rewards table</h3>

                            <button (click)="viewHistory('points')" class="btn btn-primary">
                                View My Points
                            </button>

                        </div>



                        <mat-card class="shadow mb-2"  *ngFor="let rp of business.reward_msgs">
                            <mat-card-header>
                                <mat-card-title>
                                    <i class="fa fa-trophy"></i>&nbsp; {{rp.points}} Points
                                </mat-card-title>
                            </mat-card-header>
                            <mat-divider></mat-divider>
                            <mat-card-content class="p-3">
                                {{rp.msg}}
                            </mat-card-content>

                        </mat-card>

                    </ng-container>

                </div>

            </ng-container>

        </div>



    </div>
</div>



<!--<app-gallery-preview (closed)="onCloseGallery()" [gallery]="business.gallery" [clickedAt]="galleryOpenedAt" [previewState]="previewState" *ngIf="viewMode === 'gallery'" style="position: fixed;z-index: 100000 !important;bottom: 0;overflow-x: hidden !important;" class="theme-bg-primary"  [listing]="{listing_type: 'business', business: business}" ></app-gallery-preview>-->


<div class="container-fluid mb-5" *ngIf="progress === true" >

    <div class="row">

        <div class="col-md-12">

            <mat-progress-bar mode="indeterminate"></mat-progress-bar>

        </div>

    </div>

</div>

<!--<app-business-bottom-toolbar *ngIf="!isPreviewMode" style="position: fixed;bottom: 20px !important;display: flex;justify-content: center;width: 100vw !important;left: 0 !important;"  [listing]="business" [listingType]="'business'"></app-business-bottom-toolbar>-->


