<div class="container-fluid pt-3 pb-5" style="background: #eee;">

  <div class="row d-flex justify-content-center" *ngIf="business">

    <div class="container">
       <div class="row">
         <div class="col-md-12">

           <div class="row mb-2">


             <div class="col-12 d-flex justify-content-between align-items-center">
               <div style="width: 70px;height: 70px; border-radius: 50%; background-size: contain; background-color: #888888 !important; background-repeat: no-repeat;background-position: center; background-image: url('{{business.logo}}')"></div>
               <div class="d-flex flex-column justify-content-center align-items-end">
                 <h2 class="text-center font-weight-bold m-0">
                   {{business.name}}
                 </h2>
                 <div class="d-flex gap-2 align-items-center">
                   <h4 class="m-0">
                     {{'Employee Area' | translate}}
                   </h4>
                   <button (click)="logout()" class="btn btn-sm btn-outline-primary">
                     &nbsp;<i class="fa fa-sign-out"></i>
                   </button>
                 </div>

               </div>

             </div>

             <div class="col-md-12 d-flex justify-content-between align-items-center">







             </div>

           </div>

           <div class="row d-flex justify-content-end mb-5">

             <div class="col-12 mb-2">
               <button (click)="addReward(null, false)" class="btn btn-primary w-100 d-md-none">
                 <i class="fa fa-camera"></i> Scan to Credit
               </button>
             </div>
             <div class="col-12 mb-2">
               <button (click)="addReward(null, true )" class="btn btn-danger w-100 d-md-none">
                 <i class="fa fa-camera"></i> Scan to Debit
               </button>
             </div>

             <div class="col-md-3 mb-2">


               <mat-card class="dashboard-widget">

                 <mat-card-header>
                   <mat-card-title>
                     {{'All Customers' | translate}}
                   </mat-card-title>
                 </mat-card-header>
                 <mat-divider></mat-divider>
                 <mat-card-content class="p-3">
                   <h1 class="dashboard-widget-title text-primary fw-bold">
                     {{customers_count || 0}}
                   </h1>
                   <p class="dashboard-widget-subtitle text-black-50">
                     <i class="fa fa-check"></i> {{'All Customers' | translate}}
                   </p>
                 </mat-card-content>
                 <mat-divider></mat-divider>
                 <mat-card-actions class="d-flex justify-content-end">
                   <button  class="btn btn-primary btn-sm">
                     {{'View all' | translate}} &nbsp;<i class="fa fa-angle-right"></i>
                   </button>

                 </mat-card-actions>


               </mat-card>



             </div>

             <div class="col-md-3 mb-2">


               <mat-card class="dashboard-widget">

                 <mat-card-header>
                   <mat-card-title>
                     {{'Prize Rewards' | translate}}
                   </mat-card-title>
                 </mat-card-header>
                 <mat-divider></mat-divider>
                 <mat-card-content class="p-3">
                   <h1 class="dashboard-widget-title text-primary fw-bold">
                     {{total_prizes || 0}}
                   </h1>
                   <p class="dashboard-widget-subtitle text-black-50">
                     <i class="fa fa-check"></i> {{'Total prize rewarded' | translate}}
                   </p>
                 </mat-card-content>
                 <mat-divider></mat-divider>

               </mat-card>



             </div>

             <div class="col-md-3 mb-2">


               <mat-card class="dashboard-widget">

                 <mat-card-header>
                   <mat-card-title>
                     {{'Point Rewards' | translate}}
                   </mat-card-title>
                 </mat-card-header>
                 <mat-divider></mat-divider>
                 <mat-card-content class="p-3">
                   <h1 class="dashboard-widget-title text-primary fw-bold">
                     {{total_points || 0}}
                   </h1>
                   <p class="dashboard-widget-subtitle text-black-50">
                     <i class="fa fa-check"></i> {{'Total points rewarded' | translate}}
                   </p>
                 </mat-card-content>
                 <mat-divider></mat-divider>

               </mat-card>



             </div>

             <div class="col-md-3 mb-2">


               <mat-card class="dashboard-widget">

                 <mat-card-header>
                   <mat-card-title>
                     {{'Consumtions' | translate}}
                   </mat-card-title>
                 </mat-card-header>
                 <mat-divider></mat-divider>
                 <mat-card-content class="p-3">
                   <h1 class="dashboard-widget-title text-primary fw-bold">
                     {{total_visits || 0}}
                   </h1>
                   <p class="dashboard-widget-subtitle text-black-50">
                     <i class="fa fa-check"></i> {{'Visits' | translate}}
                   </p>
                 </mat-card-content>
                 <mat-divider></mat-divider>


               </mat-card>



             </div>


           </div>

           <div class="row mb-5">

             <div class="col-md-12 mb-2 d-flex  justify-content-end gap-2 align-items-center">

               <div>
                 <input class="form-control" type="number" placeholder="Enter customer ID">
               </div>
               <div>
                 <button class="btn btn-primary">
                  <i class="fa fa-search"></i> Search
                 </button>
               </div>
               <div>
                 <button (click)="addReward(null, false )" class="btn btn-primary d-none d-md-inline">
                   <i class="fa fa-camera"></i> Scan to credit
                 </button>
               </div>
               <div>
                 <button (click)="addReward(null, true)" class="btn btn-danger d-none d-md-inline">
                   <i class="fa fa-camera"></i> Scan to Debit
                 </button>
               </div>

             </div>



             <div class="col-md-12">

               <mat-card>

                 <mat-card-header>
                   <div class="col-12 d-flex justify-content-between align-items-center flex-wrap pb-2">
                     <mat-card-title>
                       Customers
                     </mat-card-title>

                     <div class="d-flex gap-2">

                       <button (click)="getRewardedCustomers(business_id, 'points')" class="btn btn-primary">
                         View Points
                       </button>
                       <button (click)="getRewardedCustomers(business_id, 'prize')" class="btn btn-primary">
                         View Prizes
                       </button>

                     </div>

                   </div>

                 </mat-card-header>
                 <mat-divider></mat-divider>
                 <mat-card-content class="p-3">

                   <div class="row">

                     <div class="col-md-12">

                       <div class="table-responsive">
                         <table class="table table-hover">

                           <thead>
                           <tr>
                               <th>Customer ID</th>
                               <th>Customer Name</th>
                               <th>Customer Email</th>
                               <th>Available <ng-container *ngIf="activeRewardType === 'points'">Points</ng-container><ng-container *ngIf="activeRewardType === 'prize'">Price rewards</ng-container></th>
                               <th>History</th>
                             </tr>

                           </thead>
                           <tbody>

                           <ng-container *ngFor="let customer of customers">
                             <tr *ngIf="customer.customer">
                               <td>{{customer.customer.id}}</td>
                               <td>{{customer.customer.username}} ({{customer.customer.first_name}} {{customer.customer.last_name}})</td>
                               <td>{{customer.customer.email}}</td>
                               <td>{{customer.balance}}</td>

                               <td>
                                 <button (click)="viewHistory(customer.customer, activeRewardType)" class="btn btn-danger btn-warning">
                                   <i class="fa fa-history"></i>
                                 </button>

                               </td>
                             </tr>
                           </ng-container>


                           </tbody>

                         </table>
                       </div>


                     </div>

                   </div>



                 </mat-card-content>



               </mat-card>


             </div>

           </div>
         </div>

       </div>
    </div>


  </div>


  <!--<div class="row mb-5">

    <div class="col-md-12">

      <mat-card>

        <mat-card-header>
          <mat-card-title>
            <i class="fa fa-bell text-info"></i> &nbsp;Latest Notifications
          </mat-card-title>
        </mat-card-header>
        <mat-divider></mat-divider>
        <mat-card-content class="p-3">


          <div class="col-md-12">

            <div class="alert alert-info  fw-bold">
              <i class="fa fa-check"></i> &nbsp;Your business plan has been upgraded successfully - 2 days ago
            </div>

          </div>
          <div class="col-md-12">

            <div class="alert alert-info  fw-bold">
              <i class="fa fa-check"></i> &nbsp;Payment successful for purchasing plan - 3 days ago
            </div>

          </div>
          <div class="col-md-12">

            <div class="alert alert-info  fw-bold">
              <i class="fa fa-comments"></i> &nbsp;John sent a new message for listing ( demo ) - 4 days ago
            </div>

          </div>
          <div class="col-md-12">

            <div class="alert alert-info fw-bold">
              <i class="fa fa-comments"></i> &nbsp;Rana sent a new message for listing ( demo ) - 4 days ago
            </div>

          </div>


        </mat-card-content>

        <mat-card-actions class="text-center">

          <button mat-raised-button color="primary">

           View All   &nbsp; <i class="fa fa-angle-right"></i>

          </button>

        </mat-card-actions>



      </mat-card>


    </div>

  </div> -->


  <div class="row mt-5 mb-5">




    <footer style="height: 300px;margin-top: 100px;margin-bottom: 50px;">


      <div class="row">

        <div class="col-md-12">

          <p class="text-center">Guia en tu dispositivo movil
          </p>

        </div>
        <div class="col-md-12 mt-5 text-center">



          <button mat-raised-button class="btn-lg" color="primary">

            <i style="font-size: 25px;" class="fa fa-apple"></i>&nbsp; Get IOS App

          </button>&nbsp;&nbsp;
          <button mat-raised-button class="btn-lg" color="accent">

            <i style="font-size: 25px;" class="fa fa-android"></i>&nbsp; Get Android App

          </button>

          <br/>




        </div>
        <div class="col-md-12 mt-4 text-center">


          <hr/>
          <br/>
          <p>Sobre nosotros | Planes |  Para los negocios | Terminos del servicio | Politica de privacidad
          </p>

          <br/>
          <hr/>

          <mat-divider></mat-divider>

          <i style="font-size: 25px;color: #888" class="fa fa-facebook "></i>&nbsp;
          <i style="font-size: 25px;color: #888" class="fa fa-whatsapp"></i>&nbsp;
          <i style="font-size: 25px;color: #888" class="fa fa-instagram"></i>&nbsp;
          <i style="font-size: 25px;color: #888" class="fa fa-youtube "></i>&nbsp;
          <i style="font-size: 25px;color: #888" class="fa fa-twitter"></i>&nbsp;

          <br/><br/>
          <p>
            Derechos reservados 2021, IDS,  y marcas relacionadas son marcas registradas de IDS

          </p>





        </div>


      </div>



    </footer>


  </div>


</div>
